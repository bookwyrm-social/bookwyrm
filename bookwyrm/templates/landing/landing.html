{% extends 'landing/layout.html' %}
{% load i18n %}
{% load cache %}
{% load landing_page_tags %}

{% block panel %}

<div class="block is-hidden-tablet">
    <h2 class="title has-text-centered">{% trans "Recent Books" %}</h2>
</div>

{% get_current_language as LANGUAGE_CODE %}
{# 1 hour cache #}
{% cache 3600 landing LANGUAGE_CODE %}
{% get_landing_books as books %}
<section class="tile is-ancestor">
    <div class="tile is-vertical is-6">
        <div class="tile is-parent">
            <div class="tile is-child box has-background-secondary">
                {% include 'landing/large-book.html' with book=books.0 %}
            </div>
        </div>
        <div class="tile">
            <div class="tile is-parent is-6">
                <div class="tile is-child box has-background-secondary">
                    {% include 'landing/small-book.html' with book=books.1 %}
                </div>
            </div>
            <div class="tile is-parent is-6">
                <div class="tile is-child box has-background-secondary">
                    {% include 'landing/small-book.html' with book=books.2 %}
                </div>
            </div>
        </div>
    </div>
    <div class="tile is-vertical is-6">
        <div class="tile">
            <div class="tile is-parent is-6">
                <div class="tile is-child box has-background-secondary">
                    {% include 'landing/small-book.html' with book=books.3 %}
                </div>
            </div>
            <div class="tile is-parent is-6">
                <div class="tile is-child box has-background-secondary">
                    {% include 'landing/small-book.html' with book=books.4 %}
                </div>
            </div>
        </div>
        <div class="tile is-parent">
            <div class="tile is-child box has-background-secondary">
                {% include 'landing/large-book.html' with book=books.5 %}
            </div>
        </div>
    </div>
</section>
{% endcache %}
{% endblock %}
